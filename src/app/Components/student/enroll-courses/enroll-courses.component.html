<div class="container my-4">
  <h2 class="text-center mb-4">Enrolled Courses</h2>

  <div class="container py-4">
    <div *ngIf="enrollments && enrollments.length > 0; else noEnrollments">
    <div class="row">
      <div class="col-12 mb-4" *ngFor="let enrollment of enrollments">
        <div class="card bg-dark text-white">
          <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-md-center">
            <!-- Student and Course Details -->
            <div class="flex-grow-1">
              <h5 class="card-title mb-3">
                <i class="bi bi-person me-2"></i> {{ enrollment.student.firstName }}
              </h5>
              <p class="mb-1">
                <i class="bi bi-book me-2"></i> Course: {{ enrollment.course.courseName }}
              </p>
              <p class="mb-1">
                <i class="bi bi-calendar2 me-2"></i> Enrollment Date:
                {{ enrollment.enrollmentDate | date }}
              </p>
              <p>
                <i class="bi bi-clock me-2"></i> Duration: {{ enrollment.course.duration }} months
              </p>
            </div>

            <!-- Progress Circle -->
            <div class="progress-container">
              <div class="progress-circle"
                [ngStyle]="{ 'background': 'conic-gradient(#ffc107 ' + calculateProgress(enrollment.enrollmentDate, enrollment.course.duration) * 3.6 + 'deg, #343a40 0deg)' }">
                <div class="progress-center"></div>
              </div>
            </div>
          </div>

          <!-- Button -->
          <div class="card-footer text-center">
            <button class="btn btn-primary btn-sm w-100" *ngIf="shouldShowUnfollow(enrollment.enrollmentDate)">
              <i class="bi bi-x-circle me-2"></i> Unfollow
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

    <ng-template #noEnrollments style="height: 100vh;">
      <div class="card p-3 shadow-lg">
      <div class="alert alert-warning d-flex align-items-center">
        <i class="bi bi-exclamation-circle-fill fs-3 me-2"></i>
        <span><strong>No Reading Courses Enrolled</strong></span>
      </div>
      <p class="text-muted">You haven't enrolled in any courses yet. Please explore available
        courses and get started.</p>
      <button class="btn btn-info" [routerLink]="['/student/home']">Start a New Course</button>
    </div>
    </ng-template>
  </div>