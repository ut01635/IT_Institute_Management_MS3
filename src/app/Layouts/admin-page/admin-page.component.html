<div class="">
  <!-- Header -->
  <header class="d-flex justify-content-between align-items-center p-3 bg-gray text-white" style="width: 100%;">
    <h1 class="m-0">
      <img src="/Header_Image.png" alt="logo" class="img-fluid" style="max-width: 300px; height:50px;">
    </h1>
    <div class="d-flex align-items-center">
      <!-- Notifications Icon (without text) -->
      <button class="btn me-3 btn-lg fw-bold" aria-label="Notifications" [routerLink]="['/admin/Notification-list']">
        <i class="bi bi-bell text-white fs-3 fw-bold"></i>
      </button>

      <!-- Announcements Icon (without text) -->
      <button class="btn me-3 btn-lg fw-bold" aria-label="Announcements" [routerLink]="['/admin/Annoucement-list']">
        <i class="bi bi-megaphone text-white fs-3 fw-bold"></i>
      </button>

      <div class="d-flex justify-content-center">
        <img 
        [src]="baseUrl + admin?.imagePath" 
          alt="User Profile Picture" 
          class="rounded-circle img-fluid" 
          style="max-width: 50px; object-fit: cover;">
      </div>
      

      <!-- Mobile Sidebar Toggle Button -->
      <button class="btn btn-primary btn-lg d-md-none fw-bold p-2" type="button" data-bs-toggle="collapse"
        data-bs-target="#sidebar" aria-expanded="false" aria-controls="sidebar">
        <i class="bi bi-list fs-3"></i>
      </button>


    </div>
  </header>


  <!-- ////////////////////////////////////////////////////////////////////////////////////////////////////// -->
  <div class="d-flex">
    <div >
      <nav class="col-12 col-md-2 sidebar bg-blurred text-white"
        [ngClass]="{'show': isSidebarVisible, 'dark-mode': isDarkMode, 'light-mode': !isDarkMode}">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link" href="#" [routerLink]="['/admin/admin-dashboard']" (click)="setActiveTab('dashboard')"
              [class.active]="activeTab === 'dashboard'">
              <i class="bi bi-house-door"></i>
              <span class="nav-text side-text">Dashboard</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" [routerLink]="['/admin/student-list']" (click)="setActiveTab('students')"
              [class.active]="activeTab === 'students'">
              <i class="bi bi-person"></i>
              <span class="nav-text">Students</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" [routerLink]="['/admin/course-list']" (click)="setActiveTab('courses')"
              [class.active]="activeTab === 'courses'">
              <i class="bi bi-book"></i>
              <span class="nav-text">Courses</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" [routerLink]="['/admin/enquiry-list']" (click)="setActiveTab('enquiries')"
              [class.active]="activeTab === 'enquiries'">
              <i class="bi bi-envelope"></i>
              <span class="nav-text">Enquiries</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" [routerLink]="['/admin/payment']" (click)="setActiveTab('payment')"
              [class.active]="activeTab === 'payment'">
              <i class="bi bi-credit-card"></i>
              <span class="nav-text">Payment</span>
            </a>
          </li>

          <!-- Reports Item (with hover sub-links) -->
          <li class="nav-item report-item position-relative">
            <a class="nav-link" (click)="setActiveTab('reports')" [class.active]="activeTab === 'reports'">
              <i class="bi bi-file-earmark-bar-graph"></i>
              <span class="nav-text">Reports</span>
            </a>
            <ul class="flex-column ms-0 w-100 report-sub-links position-absolute start-100 top-0 p-2 rounded shadow">
              <li><a href="#" [routerLink]="['/admin/student-report']" (click)="setActiveTab('student-report')"
                  [class.active]="activeTab === 'student-report'">Student Report</a></li>
              <li><a href="#" [routerLink]="['/admin/enrollment-report']" (click)="setActiveTab('enrollment-report')"
                  [class.active]="activeTab === 'enrollment-report'">Enrollment Report</a></li>
              <li><a href="#" [routerLink]="['/admin/payment-report']" (click)="setActiveTab('payment-report')"
                  [class.active]="activeTab === 'payment-report'">Payment Report</a></li>
            </ul>
          </li>

          <li class="nav-item"  *ngIf="userRole === 'MasterAdmin'">
            <a class="nav-link" href="#" [routerLink]="['/admin/admin-list']" (click)="setActiveTab('admins')"
              [class.active]="activeTab === 'admins'">
              <i class="bi bi-person"></i>
              <span class="nav-text">Admins</span>
            </a>
          </li>

          <li class="nav-item mt-auto">
            <a class="nav-link text-danger" href="#" (click)="logout()">
              <i class="bi bi-box-arrow-right"></i>
              <span class="nav-text">Logout</span>
            </a>
          </li>
        </ul>


        <!-- Dark/Light Mode Toggle Button -->
        <div class="position-fixed bottom-0 end-0 p-3 me-3">
          <button class="btn btn-toggle-mode  toggle-button" (click)="toggleTheme()">
            <label class="switch">
              <!-- Checkbox input to trigger theme toggle -->
              <input type="checkbox" [checked]="isDarkMode" (change)="toggleTheme()" />
              <div class="slider round">
                <!-- Sun and Moon Icons -->
                <div class="sun-moon">
                  <i class="bi bi-sun" *ngIf="isDarkMode"></i>
                  <i class="bi bi-moon" *ngIf="!isDarkMode"></i>
                </div>
              </div>
            </label>
          </button>
        </div>
      </nav>
    </div>
    <!-- Main Content -->
    <main class="container-fluid p-3" style="overflow-y: auto; height: calc(100vh - 100px);">
      <section class="shadow m-2 p-4 bg-white rounded mt-5">
        <div class="container-fluid">
          <router-outlet></router-outlet>
        </div>
      </section>
    </main>
  </div>
</div>